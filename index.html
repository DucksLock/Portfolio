<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="pattern-bg"></div>
    <!-- Three.js overlay animation (plays on each load) -->
    <div id="three-overlay" aria-hidden="true"></div>
    
    <div class="container">
        <div class="content">
            <h1>Welcome</h1>
            <p>I'm a creative developer crafting beautiful digital experiences</p>
            <button id="btn-experience" class="btn">View My Work</button>
            <button id="btn-contact" class="btn">Contact Me</button>
        </div>
    </div>
    
        <section id="experience" class="experience">
        <div class="container">
            <div class="content">
                <h2>Experience</h2>
                <p>Here's a short list of professional highlights and roles.</p>
                <div class="cards">
                    <div class="card">
                        <h3>Infrastructure Engineer</h3>
                        <p>Designed and operated resilient cloud infrastructure and automation tooling.</p>
                    </div>
                    <div class="card">
                        <h3>Security Analyst</h3>
                        <p>Performed threat modelling, implemented security controls and monitoring.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact section (copied from main site, action set to ../contact.php) -->
    <section class="contact" id="contact">
        <h2 class="heading">Contact <span>Me</span><span class="animate scroll" style="--i:1;"></span></h2>

        <form action="../contact.php" method="post">
            <div id="form-message" aria-live="polite" style="margin-bottom:1rem;color:var(--main-color);"></div>
            <div class="input-box">
                <div class="input-field">
                    <input type="text" name="name" id="name" placeholder="Full Name" required maxlength="50">
                    <span class="focus"></span>
                </div>
                <div class="input-field">
                    <input type="email" name="email" id="email" placeholder="Email" required>
                    <span class="focus"></span>
                </div>

                <span class="animate scroll" style="--i:3;"></span>
            </div>
            <div class="input-box">
                <div class="input-field">
                    <input type="tel" name="phone" id="phone" placeholder="Phone Number" pattern="[+0-9()\-\.\s]{7,25}" maxlength="25" title="Include country code if relevant. Digits, spaces, +, - ( ) . allowed.">
                    <span class="focus"></span>
                </div>
                <div class="input-field">
                    <input type="text" name="subject" id="subject" placeholder="Subject" required maxlength="50">
                    <span class="focus"></span>
                </div>

                <span class="animate scroll" style="--i:5;"></span>
            </div>

            <div class="textarea-field">
                <textarea name="message" id="message" cols="30" rows="10" placeholder="Your Message" required maxlength="1000"></textarea>
                <span class="focus"></span>

                <span class="animate scroll" style="--i:7;"></span>
            </div>

            <div class="btn-box btns">
                <button type="submit" class="btn">Submit</button>

                <span class="animate scroll" style="--i:9;"></span>
            </div>
        </form>
    </section>

    <script src="script.js"></script>
    <!-- Three.js (CDN) and scene script -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
    <script src="three-scene.js"></script>
    <script>
        // Read status from URL and display feedback in #form-message
        (function(){
            const params = new URLSearchParams(window.location.search);
            const status = params.get('status');
            const msg = params.get('msg');
            const container = document.getElementById('form-message');
            if(!container) return;
            if(status === 'success'){
                container.style.color = 'lightgreen';
                container.textContent = 'Message sent â€” thank you!';
                history.replaceState(null,'',location.pathname + location.hash);
            } else if(status === 'error'){
                container.style.color = '#ff6b6b';
                try{ container.textContent = decodeURIComponent(msg) || 'Error sending message.'; } catch(e){ container.textContent = 'Error sending message.'; }
                history.replaceState(null,'',location.pathname + location.hash);
            }
        })();
    </script>
</body>
</html>